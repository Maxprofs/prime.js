<!DOCTYPE html>
<!--
  ~ Copyright (c) 2016, Inversoft Inc., All Rights Reserved
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
  ~ either express or implied. See the License for the specific
  ~ language governing permissions and limitations under the License.
  -->

<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prime Mobile Functional Tests</title>
  <link rel="stylesheet" href="../css/normalize-3.0.2.css"/>
  <link rel="stylesheet" href="../js/buster-test.css"/>
  <link rel="stylesheet" href="../../main/css/Widgets.css"/>
  <link rel="stylesheet" href="../../main/css/Widgets.MultipleSelect.css"/>
  <link rel="stylesheet" href="../../main/css/Widgets.SplitButton.css"/>
  <link rel="stylesheet" href="../../main/css/Widgets.Tabs.css"/>
  <link rel="stylesheet" href="../../main/css/Widgets.DateTimePicker.css"/>
  <link rel="stylesheet" href="../../main/css/Widgets.SideMenu.css"/>
  <script type="text/javascript" src="../../main/js/Ajax.Request.js"></script>
  <script type="text/javascript" src="../../main/js/Browser.js"></script>
  <script type="text/javascript" src="../../main/js/Date.js"></script>
  <script type="text/javascript" src="../../main/js/Document.js"></script>
  <script type="text/javascript" src="../../main/js/Document.Element.js"></script>
  <script type="text/javascript" src="../../main/js/Document.ElementList.js"></script>
  <script type="text/javascript" src="../../main/js/Effects.js"></script>
  <script type="text/javascript" src="../../main/js/Events.js"></script>
  <script type="text/javascript" src="../../main/js/Template.js"></script>
  <script type="text/javascript" src="../../main/js/Utils.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.MultipleSelect.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.Searcher.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.Tabs.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.Draggable.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.DateTimePicker.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.SideMenu.js"></script>
  <script type="text/javascript" src="../../main/js/Widgets.Touchable.js"></script>
  <script type="text/javascript" src="../../main/js/Window.js"></script>
  <script type="text/javascript">
    Prime.Document.onReady(function() {
      var touchableElement = Prime.Document.queryById('touchable');
      var touchable = new Prime.Widgets.Touchable(touchableElement, function(event) {
        Prime.Utils.stopEvent(event);
      })
          .withLongPressHandler(function(event) {
            touchableElement.setHTML('long press<br/>' + event.touchX);
          })
          .withSwipeUpHandler(function(event) {
            touchableElement.setHTML('swipe-up<br/>' + event.touchX);
          })
          .withSwipeDownHandler(function(event) {
            touchableElement.setHTML('swipe-down<br/>' + event.touchX);
          })
          .withSwipeLeftHandler(function(event) {
            touchableElement.setHTML('swipe-left<br/>' + event.touchX);
          })
          .withSwipeRightHandler(function(event) {
            touchableElement.setHTML('swipe-right<br/>' + event.touchX);
          })
          .withMoveHandler(function() {
//              var touchPoints = event.changedTouches.length;
//              if (touchPoints > 1) {
//                return true;
//              }
//
//              clearTimeout(this.timer);
//              var delta = (event.touches[0].clientX - this.touchStartX) * 0.5;
//              touchableElement.setStyle('margin-left', delta + 'px');
//              this.timer = setTimeout((function() {
//                touchableElement.setStyle('margin-left', '0px');
//              }).bind(this), 50);
          });
    });
  </script>
  <style>
    body {
      margin: 10px;
    }
  </style>
</head>
<body>
<div class="main">
  <div id="touchable" style="width: 300px; height: 150px; background-color: gray;">
    Swipe left or right...give it a shot!
  </div>
</div>
</body>
</html>