<!DOCTYPE html>
<!--
  ~ Copyright (c) 2014-2015, Inversoft Inc., All Rights Reserved
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
  ~ either express or implied. See the License for the specific
  ~ language governing permissions and limitations under the License.
  -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Prime Functional Tests</title>
    <link rel="stylesheet" href="../js/buster-test.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.MultipleSelect.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.PhraseBuilder.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.Searcher.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.SplitButton.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.Tabs.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.Draggable.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.DateTimePicker.css"/>
    <link rel="stylesheet" href="../../main/css/Widgets.SideMenu.css"/>
    <script type="text/javascript" src="../../main/js/Ajax.Request.js"></script>
    <script type="text/javascript" src="../../main/js/Browser.js"></script>
    <script type="text/javascript" src="../../main/js/Date.js"></script>
    <script type="text/javascript" src="../../main/js/Document.js"></script>
    <script type="text/javascript" src="../../main/js/Document.Element.js"></script>
    <script type="text/javascript" src="../../main/js/Document.ElementList.js"></script>
    <script type="text/javascript" src="../../main/js/Effects.js"></script>
    <script type="text/javascript" src="../../main/js/Events.js"></script>
    <script type="text/javascript" src="../../main/js/Template.js"></script>
    <script type="text/javascript" src="../../main/js/Utils.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.MultipleSelect.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.PhraseBuilder.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.Searcher.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.Tabs.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.Draggable.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.DateTimePicker.js"></script>
    <script type="text/javascript" src="../../main/js/Widgets.SideMenu.js"></script>
    <script type="text/javascript" src="../../main/js/Window.js"></script>
    <script type="text/javascript">
      var values = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'];
      var searcherCallback = {
        search: function(searchText) {
          var result = {};
          result.tooManyResults = searchText === 'fuck';
          result.results = [];
          if (!result.tooManyResults) {
            for (var i = 0; searchText !== '' && i < values.length; i++) {
              if (values[i].indexOf(searchText) === 0) {
                result.results.push(values[i]);
              }
            }
          }

          return result;
        },

        selectSearchResult: function(value) {
          alert("You selected [" + value + "]");
        }
      };

      Prime.Document.onReady(function() {
        Prime.Document.queryFirst('#fade').
          addEventListener('click', function() {
            new Prime.Effects.Fade(this).withDuration(500).go();
          });

        Prime.Document.queryFirst('#appearButton').
          addEventListener('click', function() {
            var element = Prime.Document.queryFirst('#appear');
            new Prime.Effects.Appear(element).withDuration(500).go();
          });

        new Prime.Widgets.MultipleSelect(Prime.Document.queryByID('multiple-select-test')).
            render();
        new Prime.Widgets.MultipleSelect(Prime.Document.queryByID('multiple-select-custom-add-disabled-test')).
            withPlaceholder('Choose').
            withCustomAddEnabled(false).
            render();
        new Prime.Widgets.MultipleSelect(Prime.Document.queryByID('multiple-select-lots-of-options')).
            render();
        new Prime.Widgets.Searcher(Prime.Document.queryByID('searcher'), Prime.Document.queryByID('searcher-results'), searcherCallback);
        new Prime.Widgets.PhraseBuilder(Prime.Document.queryByID('phrase-builder'), searcherCallback.search, searcherCallback).
            render();

        new Prime.Widgets.Tabs(Prime.Document.queryByID('tabs'));
        var dragElement = Prime.Document.queryByID('draggable');
        dragElement.setLeft(document.body.clientWidth - 300);
        dragElement.setTop(50);
        var draggable = new Prime.Widgets.Draggable(dragElement);

        var destroy = Prime.Document.queryByID('destroy-draggable').addEventListener('click', function() {
          draggable.destroy();
          return false;
        }, this);

        new Prime.Widgets.DateTimePicker(Prime.Document.queryByID('datepicker1'))
            .render();

        new Prime.Widgets.DateTimePicker(Prime.Document.queryByID('datepicker2'))
            .render();

        new Prime.Widgets.SideMenu(Prime.Document.queryByID('side-menu'));

        Prime.Window.addEventListener('beforeunload', function(event) {
          console.log('Beforeunload');
        });
      });
    </script>
    <style>
      #multiple-select-lots-of-options-display {
        width: 300px;
      }
    </style>
  </head>
  <body>
    <div id="side-menu">
      <div class="prime-side-menu">
        <ul>
          <li><strong>foo</strong></li>
          <li><a href="#">bar</a></li>
          <li><a href="#">baz</a></li>
        </ul>
      </div>
    </div>
    <div class="main">
      <div class="prime-side-menu-button"><span>&#9776;</span></div>
      <br>

      <div class="datepicker" style="margin-bottom: 50px; margin-top: 50px;">
        <form>
          <input id="datepicker1" type="text" name="datepicker" size="40">
          <input id="datepicker2" type="text" name="datepicker" size="40" data-date-only="true">
        </form>
      </div>

      <ul id="tabs">
        <li><a href="#fooTab">Foo</a></li>
        <li><a href="#barTab">Bar</a></li>
      </ul>
      <div id="fooTab">
        Foo Tab
      </div>
      <div id="barTab">
        Bar Tab
      </div>
      <div style="height:25px;"></div>

      <div id="fade" style="border: 1px solid black;">
        Some content in the div.
        <p>
          Some more content.
      </div>
      After
      <div id="appear" style="border: 1px solid green; display: none;">
        Some content in the div.
        <p>
          Some more content.
      </div>
      <button id="appearButton">Appear</button>
      <div>
        <form action="http://www.google.com" method="GET">
          <label for="multiple-select-test">Multiple Select Test</label><br/>
          <select id="multiple-select-test" multiple="multiple" name="mst">
            <option value="one" selected="selected">One</option>
            <option value="two">Two</option>
            <option value="three" selected="selected">Three</option>
          </select>
          <label for="multiple-select-custom-add-disabled-test">Multiple Select Test (custom add disabled)</label><br/>
          <select id="multiple-select-custom-add-disabled-test" multiple="multiple" name="mscadt">
            <option value="one" selected="selected">One</option>
            <option value="two">Two</option>
            <option value="three" selected="selected">Three</option>
          </select>
          <label for="multiple-select-lots-of-options">Multiple Select Test (lots of options)</label><br/>
          <select id="multiple-select-lots-of-options" multiple="multiple" name="msloo">
            <option value="one">One</option>
            <option value="two">Two</option>
            <option value="three">Three</option>
            <option value="four">Four</option>
            <option value="five">Five</option>
            <option value="six">Six</option>
            <option value="seven">Seven</option>
            <option value="eight">Eight</option>
            <option value="nine">Nine</option>
            <option value="ten">Ten</option>
            <option value="eleven">Eleven</option>
            <option value="twelve">Twelve</option>
            <option value="thirteen">Thirteen</option>
            <option value="fourteen">Fourteen</option>
            <option value="fifteen">Fifteen</option>
            <option value="sixteen">Sixteen</option>
            <option value="seventeen">Seventeen</option>
            <option value="eighteen">Eighteen</option>
            <option value="nineteen">Nineteen</option>
            <option value="Twenty">Twenty</option>
          </select>
          <input type="submit" value="Submit"/>
          <br/>
          <br/>
          <div class="prime-searcher-container">
            <label for="searcher">Searcher</label>
            <input type="text" id="searcher"/>
            <div id="searcher-results">

            </div>
          </div>
          <br/>
          <br/>
          <label for="phrase-builder">Phrase Builder</label>
          <select id="phrase-builder" multiple="multiple">
            <option value="one">one</option>
            <option value="ten">ten</option>
          </select>
        </form>
      </div>
      <div id="draggable" style="right: 50px; width: 200px; height: 200px; border: 1px solid black;">Drag me please.<br><button id="destroy-draggable">Destroy</button></div>
    </div>
  </body>
</html>